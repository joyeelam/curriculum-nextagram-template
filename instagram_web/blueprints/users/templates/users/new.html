{% extends "_layout.html" %}

{% block title %}
  New User |
{% endblock %}

{% block content %}
  {% for message in get_flashed_messages() %}
    <div class="alert alert-success" role="alert">{{message}}</div>
  {% endfor %}
  <h1>New User</h1>
  <form action="{{ url_for('users.create') }}" method="POST" class="needs-validation" novalidate>
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
    <div class="form-group">
      <label for="username">Username:</label>
      <input required type="text" name="username" class="form-control" value={{username}}>
      {% for error in errors if errors|length > 0 %}
        {% if 'Username' in error %}
          <div class="validation_error">{{error}}</div>
        {% endif %}
      {% endfor %}
    </div>
    <div class="form-group">
      <label for="email">Email:</label>
      <input required type="email" name="email" class="form-control" value={{email}}>
      {% for error in errors if errors|length > 0 %}
        {% if 'Email' in error %}
          <div class="validation_error">{{error}}</div>
        {% endif %}
      {% endfor %}
    </div>
    <div class="form-group">
      <label for="password">Password:</label>
      <input required type="password" name="password" class="form-control">
      <ul class="validation_error">
        {% for error in errors if errors|length > 0 %}
          {% if 'Password' in error %}
            <li>{{error}}</li>
          {% endif %}
        {% endfor %}
      </ul>
    </div>
    <button type="submit" class="btn btn-primary">Add User</button>
  </form>
{% endblock %}
