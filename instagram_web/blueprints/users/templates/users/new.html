{% extends "_layout.html" %}

{% block title %}
  Sign Up |
{% endblock %}

{% block content %}
  <div class="jumbotron">
    <div class="container center-container">
      <lottie-player src="https://assets3.lottiefiles.com/packages/lf20_hymrcjeq.json" background="transparent" speed="1" style="width: 250px; height: 250px;" loop autoplay></lottie-player>
      <h1 class="lead">Welcome to Nextagram</h1>
      <small class="text-muted">Where every picture tells a story, let us help you tell yours.</small>
    </div>
    <hr/>
    <form action="{{ url_for('users.create') }}" method="POST" class="needs-validation" novalidate>
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
      <div class="form-group">
        <label for="username">Username:</label>
        <input required type="text" name="username" class="form-control" value={{username}}>
        {% if errors|length > 0 %}
          <div class="validation_error">{{errors["Username"]}}</div>
        {% endif %}
      </div>
      <div class="form-group">
        <label for="email">Email:</label>
        <input required type="email" name="email" class="form-control" value={{email}}>
        {% if errors|length > 0 %}
          <div class="validation_error">{{errors["Email"]}}</div>
        {% endif %}
      </div>
      <div class="form-group">
        <label for="password">Password:</label>
        <input required type="password" name="password" class="form-control">
        {% if errors|length > 0 %}
          <div class="validation_error">{{errors["Password"]}}</div>
        {% endif %}
        <ul class="validation_error">
          {% if errors|length > 0 %}
            {% for error in errors["Password2"] %}
              <li>{{error}}</li>
            {% endfor %}
          {% endif %}
        </ul>
      </div>
      <button type="submit" class="btn btn-primary">Add User</button>
      <small class="form-text text-muted">Already have an account? <a href="{{ url_for('sessions.new') }}">Sign in here.</a></small>
    </form>
  </div>
{% endblock %}
